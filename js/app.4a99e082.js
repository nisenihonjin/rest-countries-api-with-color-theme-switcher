(function(e){function t(t){for(var n,o,i=t[0],s=t[1],u=t[2],d=0,p=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(c,o)&&c[o]&&p.push(c[o][0]),c[o]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);l&&l(t);while(p.length)p.shift()();return a.push.apply(a,u||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,i=1;i<r.length;i++){var s=r[i];0!==c[s]&&(n=!1)}n&&(a.splice(t--,1),e=o(o.s=r[0]))}return e}var n={},c={app:0},a=[];function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/rest-countries-api-with-color-theme-switcher/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var l=s;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"0c86":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("7a23"),c=r("1da1"),a=(r("96cf"),r("a4d3"),r("e01a"),r("d3b7"),r("7db0"),r("4de4"),r("4d63"),r("ac1f"),r("25f0"),r("a15b"),r("1276"),r("498a"),r("b0c0"),r("caad"),r("2532"),r("99af"),r("bc3a")),o=r.n(a),i={class:"details__heading"},s={class:"details__description-list details__info-1"},u=Object(n["createVNode"])("dt",{class:"details__description-term"},"Native Name",-1),l={class:"details__description-details"},d=Object(n["createVNode"])("dt",{class:"details__description-term"},"Population",-1),p={class:"details__description-details"},b=Object(n["createVNode"])("dt",{class:"details__description-term"},"Region",-1),f={class:"details__description-details"},O=Object(n["createVNode"])("dt",{class:"details__description-term"},"Sub Region",-1),j={class:"details__description-details"},m=Object(n["createVNode"])("dt",{class:"details__description-term"},"Capital",-1),v={class:"details__description-details"},g={class:"details__description-list details__info-2"},_=Object(n["createVNode"])("dt",{class:"details__description-term"},"Top Level Domains",-1),h={class:"details__description-details"},k=Object(n["createVNode"])("dt",{class:"details__description-term"},"Currencies",-1),y={class:"details__description-details"},N=Object(n["createVNode"])("dt",{class:"details__description-term"},"Languages",-1),C={class:"details__description-details"};function B(e,t,r,c,a,o){var B=Object(n["resolveComponent"])("ButtonBack"),V=Object(n["resolveComponent"])("Details");return Object(n["openBlock"])(),Object(n["createBlock"])(n["Fragment"],null,[Object(n["createVNode"])(B),Object(n["createVNode"])(V,null,{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])("img",{alt:"Flag of ".concat(c.name),class:"details__image image",src:c.flag},null,8,["alt","src"]),Object(n["createVNode"])("h2",i,Object(n["toDisplayString"])(c.name),1),Object(n["createVNode"])("dl",s,[u,Object(n["createVNode"])("dd",l,Object(n["toDisplayString"])(c.valueOrNA(c.nativeName)),1),d,Object(n["createVNode"])("dd",p,Object(n["toDisplayString"])(c.formatNumber(c.population)),1),b,Object(n["createVNode"])("dd",f,Object(n["toDisplayString"])(c.valueOrNA(c.region)),1),O,Object(n["createVNode"])("dd",j,Object(n["toDisplayString"])(c.valueOrNA(c.subregion)),1),m,Object(n["createVNode"])("dd",v,Object(n["toDisplayString"])(c.valueOrNA(c.capital)),1)]),Object(n["createVNode"])("dl",g,[_,Object(n["createVNode"])("dd",h,Object(n["toDisplayString"])(c.valueOrNA(c.domains)),1),k,Object(n["createVNode"])("dd",y,Object(n["toDisplayString"])(c.valueOrNA(c.currencies)),1),N,Object(n["createVNode"])("dd",C,Object(n["toDisplayString"])(c.valueOrNA(c.languages)),1)])]})),_:1})],64)}r("4e82"),r("d81d");var V=Object(n["createVNode"])("span",{class:"button__icon","aria-hidden":"true"},null,-1),w=Object(n["createVNode"])("span",{class:"button__copy"},"Back",-1);function S(e,t,r,c,a,o){return Object(n["openBlock"])(),Object(n["createBlock"])("button",{class:"button button--back",onClick:t[1]||(t[1]=function(){return c.changeToHomeView&&c.changeToHomeView.apply(c,arguments)})},[V,w])}function L(e,t,r,c,a,o){var i=Object(n["resolveComponent"])("Navigation"),s=Object(n["resolveComponent"])("List");return Object(n["openBlock"])(),Object(n["createBlock"])(n["Fragment"],null,[Object(n["createVNode"])(i),Object(n["createVNode"])(s)],64)}var D={"aria-label":"Country List",class:"list"},M={key:0,class:"list__empty"},R={class:"card__description-list"},x=Object(n["createVNode"])("dt",{class:"card__description-term"},"Population",-1),A={class:"card__description-details"},F=Object(n["createVNode"])("dt",{class:"card__description-term"},"Region",-1),T={class:"card__description-details"},P=Object(n["createVNode"])("dt",{class:"card__description-term"},"Capital",-1),q={class:"card__description-details"},E={ref:"sentinel",class:"list__sentinel","aria-hidden":"true"};function W(e,t,r,c,a,o){var i=Object(n["resolveComponent"])("Card");return Object(n["openBlock"])(),Object(n["createBlock"])("section",D,[c.isCountriesEmpty?(Object(n["openBlock"])(),Object(n["createBlock"])("p",M," There are no countries that match these criteria. ")):Object(n["createCommentVNode"])("",!0),(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(c.countries,(function(e,t){return Object(n["openBlock"])(),Object(n["createBlock"])(i,{key:t,code:e.alpha3Code,ariaLabelledBy:"country-card-".concat(t)},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])("h2",{class:"card__heading",id:"country-card-".concat(t)},Object(n["toDisplayString"])(e.name),9,["id"]),Object(n["createVNode"])("img",{alt:"Columbian Flag",class:"card__image image",src:e.flag},null,8,["src"]),Object(n["createVNode"])("dl",R,[x,Object(n["createVNode"])("dd",A,Object(n["toDisplayString"])(c.formatNumber(e.population)),1),F,Object(n["createVNode"])("dd",T,Object(n["toDisplayString"])(c.valueOrNA(e.region)),1),P,Object(n["createVNode"])("dd",q,Object(n["toDisplayString"])(c.valueOrNA(e.capital)),1)])]})),_:2},1032,["code","ariaLabelledBy"])})),128)),Object(n["createVNode"])("div",E,null,512)])}var H=r("3835"),I=(r("fb6a"),r("5550"));function $(e,t,r,c,a,o){return Object(n["openBlock"])(),Object(n["createBlock"])("a",{class:"link list__link",href:"#",onClick:t[1]||(t[1]=Object(n["withModifiers"])((function(e){return c.setCountryToView(r.code)}),["prevent"]))},[Object(n["createVNode"])("article",{class:"list__card card","aria-labelledby":r.ariaLabelledBy},[Object(n["renderSlot"])(e.$slots,"default")],8,["aria-labelledby"])])}var U={name:"Card",props:{ariaLabelledBy:{type:String,required:!0},code:{type:String,required:!0}},setup:function(){var e=xe(),t=e.setCountryToView;return{setCountryToView:t}}};U.render=$;var J=U,z={name:"List",components:{Card:J},setup:function(){var e=xe(),t=e.state,r=e.filteredByRegion,c=e.filteredBySearch,a=e.formatNumber,o=e.increaseListLimit,i=e.requestAllCountries,s=e.resetListLimit,u=e.setCurrentRegion,l=e.setCurrentSearch,d=e.valueOrNA,p=Object(n["toRefs"])(t),b=p.currentRegion,f=p.currentSearch,O=p.countries,j=p.listLimit;0===O.value.length&&i(),u(null),l("");var m=Object(n["computed"])((function(){return r.value.filter((function(e){var t=e.alpha3Code;return c.value.find((function(e){var r=e.alpha3Code;return r===t}))})).slice(0,j.value-1)})),v=Object(n["computed"])((function(){return 0===m.value.length}));Object(n["watch"])([b,f],(function(){s(j.value)}));var g=Object(n["ref"])(null);return Object(n["onMounted"])((function(){var e=10,t="250px";Object(I["b"])(g,(function(t){var r=Object(H["a"])(t,1),n=r[0].isIntersecting;n&&o(e)}),{rootMargin:t})})),Object(n["onUnmounted"])((function(){s()})),{countries:m,isCountriesEmpty:v,sentinel:g,formatNumber:a,valueOrNA:d}}};z.render=W;var G=z,K={class:"navigation"};function Q(e,t,r,c,a,o){var i=Object(n["resolveComponent"])("Search"),s=Object(n["resolveComponent"])("Filter");return Object(n["openBlock"])(),Object(n["createBlock"])("nav",K,[Object(n["createVNode"])(i),Object(n["createVNode"])(s)])}var X={ref:"filter",class:"navigation__filter filter"},Y={class:"button__copy"},Z=Object(n["createVNode"])("span",{class:"button__icon","aria-hidden":"true"},null,-1);function ee(e,t,r,c,a,o){return Object(n["openBlock"])(),Object(n["createBlock"])("div",X,[Object(n["createVNode"])("button",{"aria-expanded":c.isExpanded,"aria-controls":"filter__menu",class:"button filter__button",onClick:t[1]||(t[1]=function(){return c.toggleMenu&&c.toggleMenu.apply(c,arguments)})},[Object(n["createVNode"])("span",Y,Object(n["toDisplayString"])(c.filterCopy),1),Z],8,["aria-expanded"]),Object(n["createVNode"])("div",{class:["filter__menu",{"filter__menu--expanded":c.isExpanded}],id:"filter__menu",role:"menu"},[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(c.regions,(function(e,r){return Object(n["openBlock"])(),Object(n["createBlock"])("a",{key:r,class:"filter__item","data-value":e,href:"#",role:"menuitem",onClick:t[2]||(t[2]=Object(n["withModifiers"])((function(){return c.setRegionFilter&&c.setRegionFilter.apply(c,arguments)}),["prevent"]))},Object(n["toDisplayString"])(e),9,["data-value"])})),128))],2)],512)}r("6062"),r("3ca3"),r("ddb0"),r("159b"),r("a630");var te={name:"Filter",setup:function(){var e=Object(n["ref"])(!1),t=Object(n["ref"])(null),r=xe(),c=r.state,a=r.setCurrentRegion,o=Object(n["toRefs"])(c),i=o.countries,s=o.currentRegion,u=Object(n["computed"])((function(){var e,t="Filter by Region";return null!==(e=s.value)&&void 0!==e?e:t})),l=Object(n["computed"])((function(){var e=new Set;return i.value.forEach((function(t){t.region&&e.add(t.region)})),Array.from(e).sort()})),d=function(e){var t=e.target.querySelector("input");t&&t.focus()},p=function(e){a(e.target.dataset.value),b()},b=function(){e.value=!e.value};return Object(I["a"])(t,(function(){e.value&&b()})),{filter:t,filterCopy:u,isExpanded:e,regions:l,addFocusWithin:d,setRegionFilter:p,toggleMenu:b}}};te.render=ee;var re=te,ne=(r("841c"),Object(n["createVNode"])("span",{class:"search__icon","aria-hidden":"true"},null,-1));function ce(e,t,r,c,a,o){return Object(n["openBlock"])(),Object(n["createBlock"])("div",{class:"navigation__search search",onClick:t[2]||(t[2]=function(){return c.addFocusWithin&&c.addFocusWithin.apply(c,arguments)})},[ne,Object(n["createVNode"])("input",{"aria-label":"Search for a country",class:"search__input",placeholder:"Search for a country…",type:"text",onInput:t[1]||(t[1]=Object(n["withModifiers"])((function(){return c.search&&c.search.apply(c,arguments)}),["stop"]))},null,32)])}var ae={name:"Search",setup:function(){var e=xe(),t=e.setCurrentSearch,r=function(e){var t=e.target.querySelector("input");t&&t.focus()},n=function(e){t(e.target.value)};return{addFocusWithin:r,search:n}}};ae.render=ce;var oe=ae,ie={name:"Navigation",components:{Filter:re,Search:oe}};ie.render=Q;var se=ie,ue={name:"Home",components:{List:G,Navigation:se}};ue.render=L;var le=ue,de={name:"ButtonBack",setup:function(){var e=xe(),t=e.changeCurrentView,r=function(){t(le)};return{changeToHomeView:r}}};de.render=S;var pe=de,be={class:"details"};function fe(e,t,r,c,a,o){var i=Object(n["resolveComponent"])("BorderCountryLink"),s=Object(n["resolveComponent"])("BorderCountriesList");return Object(n["openBlock"])(),Object(n["createBlock"])("section",be,[Object(n["renderSlot"])(e.$slots,"default"),c.borders.length>0?(Object(n["openBlock"])(),Object(n["createBlock"])(s,{key:0},{default:Object(n["withCtx"])((function(){return[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(c.borders,(function(e,t){return Object(n["openBlock"])(),Object(n["createBlock"])(i,{key:t,code:e.alpha3Code,title:e.name},{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.name),1)]})),_:2},1032,["code","title"])})),128))]})),_:1})):Object(n["createCommentVNode"])("",!0)])}var Oe={class:"details__border-countries border-countries"},je=Object(n["createVNode"])("h3",{class:"border-countries__heading"},"Border Countries",-1);function me(e,t,r,c,a,o){return Object(n["openBlock"])(),Object(n["createBlock"])("nav",Oe,[je,Object(n["renderSlot"])(e.$slots,"default")])}var ve={name:"BorderCountriesList"};ve.render=me;var ge=ve;function _e(e,t,r,c,a,o){return Object(n["openBlock"])(),Object(n["createBlock"])("a",{class:"link border-countries__link",href:"#",title:r.title,onClick:t[1]||(t[1]=Object(n["withModifiers"])((function(e){return c.setCountryToView(r.code)}),["prevent"]))},[Object(n["renderSlot"])(e.$slots,"default")],8,["title"])}var he={name:"BorderCountryLink",props:{code:{type:String,required:!0},title:{type:String,required:!0}},setup:function(){var e=xe(),t=e.setCountryToView;return{setCountryToView:t}}};he.render=_e;var ke=he,ye={name:"Details",components:{BorderCountriesList:ge,BorderCountryLink:ke},setup:function(){var e=xe(),t=e.getBorderCountries,r=t();return{borders:r}}};ye.render=fe;var Ne=ye,Ce={name:"Country",components:{ButtonBack:pe,Details:Ne},setup:function(){var e=xe(),t=e.currentCountry,r=e.formatNumber,c=e.valueOrNA,a=t.value,o=a.capital,i=a.currencies,s=a.topLevelDomain,u=a.flag,l=a.languages,d=a.name,p=a.nativeName,b=a.population,f=a.region,O=a.subregion,j=Object(n["computed"])((function(){return i.map((function(e){var t=e.name,r=e.symbol;return"".concat(t," (").concat(r,")")})).sort().join(", ")})),m=Object(n["computed"])((function(){return s.map((function(e){return e})).sort().join(", ")})),v=Object(n["computed"])((function(){return l.map((function(e){var t=e.name;return t})).sort().join(", ")}));return{capital:o,currencies:j,domains:m,flag:u,languages:v,name:d,nativeName:p,population:b,region:f,subregion:O,formatNumber:r,valueOrNA:c}}};Ce.render=B;var Be=Ce,Ve=20,we="restApiCountries_darkMode",Se=o.a.create({baseURL:"https://restcountries.eu/rest/v2"}),Le=function(e){var t=e.nativeName,r=void 0===t?null:t;return null!==r},De=function(e){localStorage.setItem(we,e?"dark":"no-preference")},Me=Symbol("store"),Re=function(){var e=Object(n["reactive"])({countries:[],currentCode:null,currentRegion:null,currentSearch:"",currentView:Object(n["markRaw"])(le),isDarkMode:!1,isLoading:!1,listLimit:Ve}),t=Object(n["computed"])((function(){return e.countries.find((function(t){var r=t.alpha3Code;return r===e.currentCode}))})),r=Object(n["computed"])((function(){return null!==e.currentRegion?e.countries.filter((function(t){var r=t.region;return r===e.currentRegion})):e.countries})),a=Object(n["computed"])((function(){var t=new RegExp(e.currentSearch.split("").join(".*"),"i");return""!==e.currentSearch.trim()?e.countries.filter((function(e){var r=e.name;return t.test(r)})):e.countries}));function o(t){e.currentView=Object(n["markRaw"])(t)}function i(e){return e.toLocaleString("en-US")}function s(){return e.countries.filter((function(e){var r=e.alpha3Code;return t.value.borders.includes(r)}))}function u(t){e.listLimit=e.listLimit+t}function l(){return d.apply(this,arguments)}function d(){return d=Object(c["a"])(regeneratorRuntime.mark((function t(){var r,n,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,r=["alpha3Code","flag","name","population","region","capital"],t.next=4,Se.get("/all?fields=".concat(r.join(";")));case 4:n=t.sent,c=n.data,e.isLoading=!1,e.countries=c;case 8:case"end":return t.stop()}}),t)}))),d.apply(this,arguments)}function p(){return b.apply(this,arguments)}function b(){return b=Object(c["a"])(regeneratorRuntime.mark((function r(){var n,c,a,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(Le(t.value)){r.next=7;break}return n=["borders","currencies","topLevelDomain","languages","nativeName","subregion"],r.next=4,Se.get("/alpha/".concat(e.currentCode.toLowerCase(),"?fields=").concat(n.join(";")));case 4:for(o in c=r.sent,a=c.data,a)t.value[o]=a[o];case 7:case"end":return r.stop()}}),r)}))),b.apply(this,arguments)}function f(){e.listLimit=Ve}function O(e){return j.apply(this,arguments)}function j(){return j=Object(c["a"])(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,e.currentCode=r,t.next=4,p();case 4:e.currentView!==Be&&o(Be),e.isLoading=!1;case 6:case"end":return t.stop()}}),t)}))),j.apply(this,arguments)}function m(t){e.currentRegion=t}function v(t){e.currentSearch=t}function g(){var t=localStorage.getItem(we);(t&&"dark"===t||!t&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&!e.isDarkMode&&_(),t||De(e.isDarkMode)}function _(){e.isDarkMode=!e.isDarkMode,De(e.isDarkMode)}function h(e){return e.trim()||"N/A"}return{state:Object(n["readonly"])(e),currentCountry:t,filteredByRegion:r,filteredBySearch:a,changeCurrentView:o,formatNumber:i,getBorderCountries:s,increaseListLimit:u,requestAllCountries:l,requestCountryDetails:p,resetListLimit:f,setCountryToView:O,setCurrentRegion:m,setCurrentSearch:v,setModeToAgentPref:g,toggleDarkMode:_,valueOrNA:h}},xe=function(){return Object(n["inject"])(Me)},Ae={class:"header"},Fe=Object(n["createVNode"])("h1",{class:"header__heading"},"Where in the world?",-1),Te={key:0,class:"loader"};function Pe(e,t,r,c,a,o){var i=Object(n["resolveComponent"])("ButtonDarkMode");return Object(n["openBlock"])(),Object(n["createBlock"])(n["Fragment"],null,[Object(n["createVNode"])("header",Ae,[Fe,Object(n["createVNode"])(i)]),Object(n["createVNode"])("main",null,[c.isLoading?(Object(n["openBlock"])(),Object(n["createBlock"])("div",Te)):(Object(n["openBlock"])(),Object(n["createBlock"])(Object(n["resolveDynamicComponent"])(c.currentView),{key:1}))])],64)}var qe=Object(n["createVNode"])("span",{class:"button__icon","aria-hidden":"true"},null,-1),Ee=Object(n["createVNode"])("span",{class:"button__copy"},"Dark Mode",-1);function We(e,t,r,c,a,o){return Object(n["openBlock"])(),Object(n["createBlock"])("button",{class:"button header__button--dark-mode",onClick:t[1]||(t[1]=Object(n["withModifiers"])((function(){return c.toggleDarkMode&&c.toggleDarkMode.apply(c,arguments)}),["stop"]))},[qe,Ee])}var He=document.documentElement,Ie="html--dark-mode",$e={name:"ButtonDarkMode",setup:function(){var e=xe(),t=e.state,r=e.setModeToAgentPref,c=e.toggleDarkMode,a=Object(n["toRefs"])(t),o=a.isDarkMode;return r(),Object(n["watchEffect"])((function(){o.value?He.classList.add(Ie):He.classList.remove(Ie)})),{toggleDarkMode:c}}};$e.render=We;var Ue=$e,Je={name:"App",components:{ButtonDarkMode:Ue},setup:function(){var e=xe(),t=e.state,r=Object(n["toRefs"])(t),c=r.currentView,a=r.isLoading;return{currentView:c,isLoading:a}}};r("ad65");Je.render=Pe;var ze=Je;Object(n["createApp"])(ze).provide(Me,Re()).mount(".whole-document")},ad65:function(e,t,r){"use strict";r("0c86")}});
//# sourceMappingURL=app.4a99e082.js.map